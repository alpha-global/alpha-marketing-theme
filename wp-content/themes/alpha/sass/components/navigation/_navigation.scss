.site-header {
	position: relative;
	transition: background-color .3s ease;

	.main-navigation {
		display: flex;
		flex-grow: 1;
		justify-content: space-between;
	
		.menu {
			list-style: none;
			display: flex;
			padding: 0;
			margin: 0;
			font-size: 1em;
			line-height: 1.4em;
	
			> .menu-item {
				margin-left: 56px;
	
				&:first-child {
					margin-left: 0;
				}
	
				> a {
					display: inline-block;
					padding: 9px 0;
					color: $color__nav-link;
					text-decoration: none;
					position: relative;

					&:not(.btn) {
						&:before {
							content: '';
							position: absolute;
							left: 0;
							bottom: 0;
							height: 2px;
							width: 0;
							background-color: $color__accent;
							transition: all .3s ease;
						}
					}

					&.btn {
						display: inline-block;
						border: 1px solid $color__white;
						color: $color__white;
						padding: 8px $gutter;
						border-radius: 8px;
						transition: all .3s ease;

						&:hover {
							background-color: $color__accent-hover;
							border-color: $color__accent-hover;
						}
					}
				}

				&-has-children {
					> a {
						&:after {
							font-family: $font__icons;
							display: inline-block;
							font-style: normal;
							font-weight: normal;
							font-variant: normal;
							text-transform: none !important;
							line-height: 1;
							-webkit-font-smoothing: antialiased;
							-moz-osx-font-smoothing: grayscale;
							content: "\e806";
							margin-left: 0.8em;
							font-size: 75%;
							transition: all .3s ease;
						}
					}
				}

				&:hover {
					> a {
						color: $color__accent;
					}
				}
				
				.sub-menu {
					list-style: none;
					margin: 0;
					padding: 0;

					> .menu-item {
						margin-bottom: 2em;

						> a {
							text-decoration: none;
							color: $color__text;

							.title {
								color: $color__accent;
								margin-bottom: 0.5em;
							}

							.image {
								margin-bottom: 0.5em;

								img {
									width: 100%;
									height: 150px;
									object-fit: cover;
									@include rounded-shadow();
								}
							}

							.description {
								font-size: 90%;
								max-width: 25em;
							}
						}
					}
				}

				> .sub-menu {
					display: none;
					flex-wrap: wrap;
					position: absolute;
					list-style: none;
					left: 0;
					width: 100%;
					background-color: $color__background-body;
					margin: 0;
					padding: 40px calc( ( 100vw - 1200px ) / 2 - 25px ) 40px calc(  ( 100vw - 1200px ) / 2 + 92px - 25px );
					transition: all .3s ease-in;
					height: 0;

					> .menu-item {
						flex: 0 0 25%;
						padding: 0 20px;

						&.menu-item-column {
							flex: 0 0 50%;
						}
					}
				}

				&:hover {
					> a {
						color: $color__accent;
					
						&:before {
							width: 100%;
						}
					
						&:after {
							transform: rotate( -180deg );
						}
					}

					> .sub-menu {
						display: flex;
						height: auto;
					}
				}
			}
		}
	}
	
	.menu-toggle {
		display: none;
	}

	&.overlay {
		position: absolute;
		top: 40px;
		left: 0;
		width: 100%;
		z-index: 1;

		body.admin-bar & {
			top: 72px;
		}

		+ .site-main {
			position: relative;
			z-index: 0;
		}
	}

	&.fixed {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;

		body.admin-bar & {
			top: 32px;
		}

		+ .site-main {
			position: relative;
			z-index: 0;
		}

		&:not(.overlay) {
			+ .site-main {
				padding-top: 112px;
			}
		}
	}

	&:hover,
	&.solid,
	&.fixed,
	.topline-nav:hover + & {
		background-color: $color__background-body;

		.main-navigation {
			.menu {
				> .menu-item {
					> a {
						color: $color__dark;

						&.btn {
							background-color: $color__accent;
							border-color: $color__accent;
							color: $color__white;

							&:hover {
								background-color: $color__accent-hover;
								border-color: $color__accent-hover;
							}
						}
					}

					&:hover {
						> a {
							color: $color__accent;
						}
					}
				}
			}
		}
	}
}
